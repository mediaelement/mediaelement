/*!
 * MediaElement.js
 * http://www.mediaelementjs.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2017, John Dyer (http://j.hn/)
 * License: MIT
 *
 *//*!
 * MediaElement.js
 * http://www.mediaelementjs.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2017, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d={isIframeStarted:!1,isIframeLoaded:!1,iframeQueue:[],enqueueIframe:function(a){d.isLoaded="undefined"!=typeof Twitch,d.isLoaded?d.createIframe(a):(d.loadIframeApi(),d.iframeQueue.push(a))},loadIframeApi:function(){d.isIframeStarted||!function(){var a=document.createElement("script"),b=document.getElementsByTagName("script")[0],c=!1;a.src="//player.twitch.tv/js/embed/v1.js",a.onload=a.onreadystatechange=function(){c||d.readyState&&void 0!==d.readyState&&"loaded"!==d.readyState&&"complete"!==d.readyState||(c=!0,d.iFrameReady(),a.onload=a.onreadystatechange=null)},b.parentNode.insertBefore(a,b),d.isIframeStarted=!0}()},iFrameReady:function(){for(d.isLoaded=!0,d.isIframeLoaded=!0;d.iframeQueue.length>0;){var a=d.iframeQueue.pop();d.createIframe(a)}},createIframe:function(a){var b=new Twitch.Player(a.id,a);window["__ready__"+a.id](b)},getTwitchId:function(a){var b="";return a.indexOf("?")>0?(b=d.getTwitchIdFromParam(a),""===b&&(b=d.getTwitchIdFromUrl(a))):b=d.getTwitchIdFromUrl(a),b},getTwitchIdFromParam:function(a){if(void 0===a||null===a||!a.trim().length)return null;for(var b=a.split("?"),c=b[1].split("&"),d="",e=0,f=c.length;f>e;e++){var g=c[e].split("=");if(g[0].includes("channel=")){d=g[1];break}if(g[0].includes("video=")){d="v"+g[1];break}}return d},getTwitchIdFromUrl:function(a){if(void 0===a||null===a||!a.trim().length)return null;var b=a.split("?");a=b[0];var c=a.substring(a.lastIndexOf("/")+1);return null!==c.match(/^\d+$/i)?"v"+c:c},getTwitchType:function(a){return null!==a.match(/^v\d+/i)?"video":"channel"}},e={name:"twitch_iframe",options:{prefix:"twitch_iframe"},canPlayType:function(a){return["video/twitch","video/x-twitch"].includes(a)},create:function(a,b,c){function e(b){for(var c=0,d=b.length;d>c;c++){var e=mejs.Utils.createEvent(b[c],f);a.dispatchEvent(e)}}var f={},g=[],h=4,i=d.getTwitchId(c[0].src),j=null,k=!0,l=!1,m=null,n=!1,o=1,p=1/0,q=0;f.options=b,f.id=a.id+"_"+b.prefix,f.mediaElement=a;for(var r=mejs.html5media.properties,s=function(b){var c=""+b.substring(0,1).toUpperCase()+b.substring(1);f["get"+c]=function(){if(null!==j){var a=null;switch(b){case"currentTime":return q=j.getCurrentTime();case"duration":return p=j.getDuration();case"volume":return o=j.getVolume();case"paused":return k=j.isPaused();case"ended":return l=j.getEnded();case"muted":return j.getMuted();case"buffered":return{start:function(){return 0},end:function(){return 0},length:1};case"src":return"channel"===d.getTwitchType(i)?j.getChannel():j.getVideo();case"readyState":return h}return a}return null},f["set"+c]=function(c){if(null!==j)switch(b){case"src":var e="string"==typeof c?c:c[0].src,h=d.getTwitchId(e);"channel"===d.getTwitchType(i)?j.setChannel(h):j.setVideo(h);break;case"currentTime":j.seek(c),setTimeout(function(){var b=mejs.Utils.createEvent("timeupdate",f);a.dispatchEvent(b)},50);break;case"muted":j.setMuted(c),setTimeout(function(){var b=mejs.Utils.createEvent("volumechange",f);a.dispatchEvent(b)},50);break;case"volume":o=c,j.setVolume(c),setTimeout(function(){var b=mejs.Utils.createEvent("volumechange",f);a.dispatchEvent(b)},50);break;case"readyState":var k=mejs.Utils.createEvent("canplay",f);a.dispatchEvent(k)}else g.push({type:"set",propName:b,value:c})}},t=0,u=r.length;u>t;t++)s(r[t]);for(var v=mejs.html5media.methods,w=function(a){f[a]=function(){if(null!==j)switch(a){case"play":return k=!1,j.play();case"pause":return k=!0,j.pause();case"load":return null}else g.push({type:"call",methodName:a})}},x=0,y=v.length;y>x;x++)w(v[x]);window["__ready__"+f.id]=function(b){if(a.twitchPlayer=j=b,g.length)for(var c=0,d=g.length;d>c;c++){var h=g[c];if("set"===h.type){var i=h.propName,m=""+i.substring(0,1).toUpperCase()+i.substring(1);f["set"+m](h.value)}else"call"===h.type&&f[h.methodName]()}var o=document.getElementById(f.id).firstChild;o.style.width="100%",o.style.height="100%";for(var p=["mouseover","mouseout"],q=function(b){var c=createEvent(b.type,f);a.dispatchEvent(c)},r=0,s=p.length;s>r;r++)o.addEventListener(p[r],q,!1);var t=void 0;j.addEventListener("ready",function(){k=!1,l=!1,e(["rendererready","loadedmetadata","loadeddata","canplay"])},!1),j.addEventListener("play",function(){n||(n=!0),k=!1,l=!1,e(["play","playing","progress"]),t=setInterval(function(){j.getCurrentTime(),e(["timeupdate"])},250)},!1),j.addEventListener("pause",function(){k=!0,l=!1,j.getEnded()||e(["pause"])},!1),j.addEventListener("ended",function(){k=!0,l=!0,e(["ended"]),clearInterval(t),n=!1,t=null},!1)};var z=a.originalNode.height,A=a.originalNode.width,B=document.createElement("div"),C=d.getTwitchType(i),D={id:f.id,width:A,height:z,playsinline:!1,autoplay:!1};return D[C]=i,B.id=f.id,B.style.width="100%",B.style.height="100%",a.originalNode.parentNode.insertBefore(B,a.originalNode),a.originalNode.style.display="none",d.enqueueIframe(D),f.setSize=function(a,b){null===d||isNaN(a)||isNaN(b)||(B.setAttribute("width",a),B.setAttribute("height",b))},f.hide=function(){f.pause(),m&&(m.style.display="none")},f.show=function(){m&&(m.style.display="")},f.destroy=function(){},f}};mejs.Utils.typeChecks.push(function(a){return a=a.toLowerCase(),a.includes("//www.twitch.tv")||a.includes("//player.twitch.tv")?"video/x-twitch":null}),mejs.Renderers.add(e)},{}]},{},[1]);